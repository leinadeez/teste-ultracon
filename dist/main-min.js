init();let contraste=!1,textSize=16;function reduzTexto(){textSize>10&&(textSize--,document.querySelector("html").style.fontSize=textSize+"px")}function ampliaTexto(){textSize<22&&(textSize++,document.querySelector("html").style.fontSize=textSize+"px")}function toggleContraste(){contraste?(contraste=!1,document.querySelector("body").classList.remove("contraste")):(contraste=!0,document.querySelector("body").classList.add("contraste"))}function avancaSlide(t){let e=parseInt(t.style.marginLeft.slice(0,-2)),o=Math.floor(window.innerWidth/154);e>-154*(t.childElementCount-o+1)&&(e-=154),t.style.marginLeft=e+"px"}function voltaSlide(t){let e=parseInt(t.style.marginLeft.slice(0,-2));e<0?e+=154:e<0&&e>-154&&(e=0),t.style.marginLeft=e+"px"}async function init(){let t=await buscaAtracoes();popula(t)}async function buscaAtracoes(){let t;try{await fetch("https://sky-frontend.herokuapp.com/movies",{method:"GET"}).then(e=>{e.ok&&(console.log("Requisição respondida!"),t=e.json())})}catch(t){console.log("Erro na requisição:",t)}finally{console.log("Requisição concluída.")}return t}const popula=t=>{let e=[];t[2].movies.forEach(t=>{t.categories.split(", ").forEach(t=>{e.push(t)})});const o=[...new Set(e)],i=document.querySelector("#listaCategorias");o.forEach((t,e)=>{i.innerHTML+=`<div class="categoria"><h2 id="tituloCategoria">${t}</h2><div class="contemFilmes"><button class="backSlide" onclick="voltaSlide(lista_${e})"><span></span></button><ul class="listaFilmes" id="lista_${e}"></ul><button class="forwardSlide" onclick="avancaSlide(lista_${e})"><span></span></button></div></div>`}),t[2].movies.forEach(t=>{t.categories.split(", ").forEach(e=>{let i=o.indexOf(e);document.querySelector(`#lista_${i}`).innerHTML+=`<li><a href="#"><img class="cover" src="${t.images[0].url}" /></a><img class="${t.isBlocked?"lock":"unlock"}" src="./dist/images/lock.svg" /></li>`})}),document.querySelectorAll(".listaFilmes").forEach(t=>{t.style.width=154*t.childElementCount+"px",t.style.marginLeft=0})};